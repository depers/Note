# 【项目】从0开发前后端分离的企业级上线项目

## 第一章 课程介绍

### 1.课程目标

![12-1](E:\markdown笔记\笔记图片\12\12-1.png)

![12-2](E:\markdown笔记\笔记图片\12\12-2.png)

![12-3](E:\markdown笔记\笔记图片\12\12-3.png)

![12-4](E:\markdown笔记\笔记图片\12\12-4.png)

![12-5](E:\markdown笔记\笔记图片\12\12-5.png)

![12-6](E:\markdown笔记\笔记图片\12\12-6.png)

![12-7](E:\markdown笔记\笔记图片\12\12-7.png)

![12-8](E:\markdown笔记\笔记图片\12\12-8.png)

### 2.电商平台需求分析

![12-9](E:\markdown笔记\笔记图片\12\12-9.png)

![12-10](E:\markdown笔记\笔记图片\12\12-10.png)

![12-11](E:\markdown笔记\笔记图片\12\12-11.png)

![12-12](E:\markdown笔记\笔记图片\12\12-12.png)

![12-13](E:\markdown笔记\笔记图片\12\12-13.png)

![12-14](E:\markdown笔记\笔记图片\12\12-14.png)

### 3.架构设计和技术选型

![12-15](E:\markdown笔记\笔记图片\12\12-15.png)

![12-16](E:\markdown笔记\笔记图片\12\12-16.png)

![12-17](E:\markdown笔记\笔记图片\12\12-17.png)

![12-18](E:\markdown笔记\笔记图片\12\12-18.png)

![12-19](E:\markdown笔记\笔记图片\12\12-19.png)

![12-20](E:\markdown笔记\笔记图片\12\12-20.png)

![12-21](E:\markdown笔记\笔记图片\12\12-21.png)

![12-22](E:\markdown笔记\笔记图片\12\12-22.png)

![12-23](E:\markdown笔记\笔记图片\12\12-23.png)

![12-24](E:\markdown笔记\笔记图片\12\12-24.png)

![12-25](E:\markdown笔记\笔记图片\12\12-25.png)

![12-26](E:\markdown笔记\笔记图片\12\12-26.png)

![12-27](E:\markdown笔记\笔记图片\12\12-27.png)

![12-28](E:\markdown笔记\笔记图片\12\12-28.png)

![12-29](E:\markdown笔记\笔记图片\12\12-29.png)

![12-30](E:\markdown笔记\笔记图片\12\12-30.png)

### 4.前后端配合方式及数据接口定义

![12-31](E:\markdown笔记\笔记图片\12\12-31.png)

![12-32](E:\markdown笔记\笔记图片\12\12-32.png)

![12-33](E:\markdown笔记\笔记图片\12\12-33.png)

![12-34](E:\markdown笔记\笔记图片\12\12-34.png)

## 第二章 开发环境搭建与开发工具的使用技巧

### 1.开发环境的搭建

![12-35](E:\markdown笔记\笔记图片\12\12-35.png)

![12-36](E:\markdown笔记\笔记图片\12\12-36.png)

![12-37](E:\markdown笔记\笔记图片\12\12-37.png)

### 2.node.js、npm的介绍和安装

![12-38](E:\markdown笔记\笔记图片\12\12-38.png)

![12-39](E:\markdown笔记\笔记图片\12\12-39.png)

![12-40](E:\markdown笔记\笔记图片\12\12-40.png)

### 3.git的安装和配置

### 4.sublime的使用技巧

### 5.chrome调试工具

### 6.代理神器Charles/Fiddler

## 第3章 项目初始化与基于模块化的脚手架搭建

### 1.项目初始化概要

![12-44](E:\markdown笔记\笔记图片\12\12-44.png)

### 2.项目目录结构设计与Git远程仓库的建立

![12-45](E:\markdown笔记\笔记图片\12\12-45.png)

![12-46](E:\markdown笔记\笔记图片\12\12-46.png)

### 3.项目脚手架的搭建

* `npm init`命令

  ![47](E:\markdown笔记\笔记图片\12\47.png)

* `npm install`命令

  ![48](E:\markdown笔记\笔记图片\12\48.png)

* webpack

  ![49](E:\markdown笔记\笔记图片\12\49.png)

* webpack的安装

  ![50](E:\markdown笔记\笔记图片\12\50.png)

* webpack安装时的疑问(本项目中webpack全局的安装版本为2.6.1)

  * 为什么用1.15.0，官网上不都建议升级2.x吗？

    为了兼容IE8

  * wepack install 的参数说明

    * --save-dev

      --save：将保存配置信息到pacjage.json。默认为dependencies节点中。

      --dev：将保存配置信息devDependencies节点中。
      
    * 其他命令
    --save：将保存配置信息到pacjage.json的dependencies节点中。
    
      --save-dev：将保存配置信息到pacjage.json的devDependencies节点中。
    
      dependencies：运行时的依赖，发布后，即生产环境下还需要用的模块
    
      devDependencies：开发时的依赖。里面的模块是开发时用的，发布时用不到它。
    
  
* webpack.config.js

  ![51](E:\markdown笔记\笔记图片\12\51.png)

* webpack Loaders

  ![52](E:\markdown笔记\笔记图片\12\52.png)

* webpack的相关命令

  * `webpack` 

    以不压缩的形式对项目进行打包

  * `wepack -p` 

    对打包后的文件进行压缩

  * `webpack --watch`

    自动监控文件的改变，但是不能刷新浏览器

  * `webpack --config webpack.config.js`

    改变默认的配置文件配置
  
* webpack-dev-server

  ![53](E:\markdown笔记\笔记图片\12\53.png)

### 4.webpack对脚本和样式的处理

![54](E:\markdown笔记\笔记图片\12\54.png)

* Js用什么loader加载？

  使用webpack自带的js加载器

* 官方文档中只有单入口的设置，多入口盖怎么设置？参见webpack.config.js：

  * 单入口

    ```js
    var config = {
    	entry: '/src/page/index/index.js',
    	output: {
    		path: "./dist",
    		filename: 'app.js'
    	}
    }
    
    module.exports = config;
    ```

  * 多入口

    ```js
    entry: {
        // 配置输入文件
        'index': ['./src/page/index/index.js'],
        'login': ['./src/page/login/index.js'],
    },
    ```

  * output中分文件夹村存放目标文件，怎么设置？

    参见webpack.config.js：

    ```js
    var config = {
    	entry: {
            // 配置输入文件
            'index': ['./src/page/index/index.js'],
            'login': ['./src/page/login/index.js'],
        },
    	output: {
    		path: "./dist",
    		filename: 'js/[name].js'
    	}
    }
    
    module.exports = config;
    ```

  * jQuery的引入方法

    * 安装jQuery，`npn install jquery --save `

    * 在单个文件中使用jQuery，但是这样做的话无法再全局使用jQuery。

      ```js
      <!-- index.js -->
      
      'use strict'
      
      var $ = require('jquery');
      $('body').html('HELLO INDEX');
      ```

    * 全局使用jQuery

      首先卸载jQuery，命令`npn uninstall jquery --save`

      ```html
      <script src="https://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script>
      ```

    * 模块化引用jquery

      如果我们像下面这样使用jQuery，是会报错的

      ```js
      <!-- index.js -->
      
      'use strict'
      
      var $$ = require('jquery');
      $$('body').html('HELLO INDEX');
      ```

      我们需要这样做，才能不报错，参见webpack.config.js：

      ```js
      externals: {
          // 模块化引用jquery
          'jquery': 'window.jQuery',
      },
      ```

  * webpack提取公共模块，webpack会自动将相同的引用（公共模块）添加到base.js中

    参见webpack.config.js：

    ```js
    var webpack = require('webpack');
    var config = {
        plugins: [
                // 提取公共模块，独立通用模块到js/base.js
                new webpack.optimize.CommonsChunkPlugin({
                    name: 'commons',
                    // 输出文件
                    filename: 'js/base.js'
                }),
            ]
    };
    ```

    * 测试效果

      参见src/page/module.js：

      ```js
      'use strict';
      module.exports = {
          test: 1234
      }
      ```

      参见src\page\index\index.js：

      ```js
      'use strict';
      require('../module.js');  // 引入module.js
      ```

      参见src\page\login\index.js：

      ```js
      'use strict';
      
      require('../module.js');  // 引入module.js
      ```

      这样的通用的组件module.js就会被放到base.js中

    * 如果想将src\page\common\index.js中的代码做成公共模块，除了在每个文件中对他进行引用。还有什么办法？参见webpack.config.js：

      ```js
      entry: {
              // 配置输入文件
              'common': ['./src/page/common/index.js'],  //1.将common/index.js加入输入
              'index': ['./src/page/index/index.js'],
              'login': ['./src/page/login/index.js'],
          },
              
              
      plugins: [
                  // 提取公共模块，独立通用模块到js/base.js
                  new webpack.optimize.CommonsChunkPlugin({
                      name: 'common',  //2.配置common名称
                      // 输出文件
                      filename: 'js/base.js'
                  }),
              ]
      ```

![55](E:\markdown笔记\笔记图片\12\55.png)

* 样式使用怎样的loader？

  安装插件：`npm install style-loader@0.23.1 --save-dev`，`npm install css-loader@2.1.1 --save-dev`

  编写css，参见src\page\index\index.css，然后在src\page\index\index.js进行引用：

  ```js
  'use strict';
  require('./index.css');
  require('../module.js');
  ```

  按照如下配置的话会出现一个问题，就是webpack将css编译到了js中处理。参见webpack.config.js：

  ```js
  module: {
          loaders: [
              {
                  test: /\.css$/,
                  loader: "style-loader!css-loader"
              },
          ],
      },
  ```

* webpack打包的css怎么独立成单独的文件？

  安装插件：`npm install extract-text-webpack-plugin@1.0.1 --save-dev `

  参见webpack.config.js：

  ```js 
  var ExtractTextPlugin = require('extract-text-webpack-plugin');
   module: {
          loaders: [
              {
                  test: /\.css$/,
                  loader: ExtractTextPlugin.extract('style-loader', 'css-loader')
              },
          ],
      },
          
  plugins: [
          // 配置css单独打包
          new ExtractTextPlugin("css/[name].css"),
      ]
  ```

### 5.webpack对html模板的处理

安装插件：`npm install html-webpack-plugin@2.28.0 --save-dev`

引入插件：

```js
var HtmlWebpackPlugin = require('html-webpack-plugin')

// 获取html-webpack-pugin参数的方法
var getHtmlConfig = function(name){
    return {
        template: './src/view/'+ name +'.html',
        filename: 'view/'+ name +'.html', 
        inject: true,
        hash: true,
        chunks: ['common', name]
    };
}

 // 配置html模板
 plugins: [
     new HtmlWebpackPlugin(getHtmlConfig('index')),
     new HtmlWebpackPlugin(getHtmlConfig('login')),
 ]
```

按照上面的配置我们用src\view\index.html和src\view\login.html来配置，但是在这两个文件中都有下面对jQuery的引用：

```html
<script src="https://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script>
```

因此为了避免在每个html文件中配置这个引用，我们使用require来解决。建立src\view\layout\html-head.html。因为html-webpack-plugin支持ejs模板。

参见src\view\layout\html-head.html：

```html
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
```

参见src\view\index.html：

```ejs
<%= require('./layout/html-head.html') %>
```

但是这样配置之后使用webpack打包是会报错的，需安装插件：`npm install html-loader@0.5.5 --save-dev`，然后修改src\view\index.html，此时就完成了html文件的引用。

```ejs
 <%= require('html-loader!./layout/html-head.html') %>
```

### 6.webpack对icon-font和图片的处理

安装插件：`npm install url-loader --save-dev`

进行webpack.config.js配置：

```js
 module: {
        loaders: [
            // 对css的loader
            {
                test: /\.css$/,
                loader: ExtractTextPlugin.extract('style-loader', 'css-loader')
            },
            // 对图片、字体、icon的loader
            { 
                test: /\.(gif|png|jpg|woff|svg|eot|ttf)\??.*$/, 
                loader: 'url-loader?limit=100&name=resource/[name].[ext]' 
            },
        ],
    },

```

`url-loader?limit=100&name=resource/[name].[ext]`解析：

* limit=100：图片的大小不得超过100字节，若超过的话就会以文件的形式存在，否则以base64编码形式存在；
* ame=resource/[name].[ext]：超过100字节的图片会保存在resource目录下，并保留文件名和扩展名。

### 7.webpack-dev-server

安装webpack-dev-server：`npm install webpack-dev-server@1.16.5 --save-dev`

* iframe模式

  为了我们能够在命令行里面运行webpack-dev-server，我们必须全局安装webpack-dev-server。然后我们在命令行中输入`webpack-dev-server`，在浏览区中输入<http://localhost:8080/webpack-dev-server/>就可以以iframe模式运行webpack-dev-server。

* inline模式

  因为common文件在公共组件每个文件中都会引用，所以在common中配置，所有的页面都就可以使用了。在webpack.config.js中配置：

  ```js
   entry: {
          // 配置输入文件
          'common': ['./src/page/common/index.js', 'webpack-dev-server/client"http://localhost:8088/'],
          'index': ['./src/page/index/index.js'],
          'login': ['./src/page/login/index.js'],
      },
  ```

  在控制台输入：`webpack-dev-server --inline --port 8088 `，然后在浏览器中输入localhost:8088访问。但是发现js、css等文件却找不到。所以在webpack.config.js中还应配置publicPath：

  ```js
  output: {
          // 存放文件的路径
          path: './dist',
          // webpack-dev-server配置，访问文件的路径
          publicPath: '/dist', 
          // 配置输出文件
          filename: 'js/[name].js'
      },
  ```
  
* nodejs中环境变量的配置

  webpack.config.js配置：

  ```js
// 环境变量的配置, dev/ online
  var WEBPACK_ENV = process.env.WEBPACK_ENV || 'dev';
  
  if('dev' === WEBPACK_ENV){
      config.entry.common.push('webpack-dev-server/client?http://localhost:8088/')
  }
  ```
  
  控制台输入：`set WEBPACK_ENV=dev && webpack-dev-server --inline --port 8088` 
  
  为了简化控制台命令，在package.json中配置：
  
  ```js
  "scripts": {
  		"dev": "WEBPACK_ENV=dev webpack-dev-server --inline --port 8088",
  		"win_dev": "set WEBPACK_ENV=dev && webpack-dev-server --inline --port 8088",
  		"dist": "WEBPACK_ENV=online webpack -p",
  		"win_dist": "set WEBPACK_ENV=online && webpack -p"
  	},
  ```
  
  因为我用windows进行开发所以在控制台输入：`npm run win_dev`
  
## 第四章  项目通用功能的开发

### 1.项目通用模块设计和拆分概要（通用JS工具，通用布局，通用样式，通用导航，通用提示页）

![57](E:\markdown笔记\笔记图片\12\57.png)

![58](E:\markdown笔记\笔记图片\12\58.png)

![59](E:\markdown笔记\笔记图片\12\59.png)

![60 - 副本](E:\markdown笔记\笔记图片\12\60 - 副本.png)

![61 - 副本](E:\markdown笔记\笔记图片\12\61 - 副本.png)

![62 - 副本](E:\markdown笔记\笔记图片\12\62 - 副本.png)

![63 - 副本](E:\markdown笔记\笔记图片\12\63 - 副本.png)

![64 - 副本](E:\markdown笔记\笔记图片\12\64 - 副本.png)

![65 - 副本](E:\markdown笔记\笔记图片\12\65 - 副本.png)

### 2.通用JS工具类封装（网络数据请求）

* 这节课程主要编写了src\util\mm.js。

* encodeURIComponent() 函数可把字符串作为 URI 组件进行编码。该方法不会对 ASCII 字母和数字进行编码，也不会对这些 ASCII 标点符号进行编码： - _ . ! ~ * ' ( ) 。在连接跳转时防止url截断。

* 文件夹的别名配置，在使用require函数时不需要跳转繁琐的路径，下面是webpack.config.js的配置：

  ```js
  resolve: {
          // 别名配置，方便引用
          alias: {
              util    : __dirname + '/src/util',
              page    : __dirname + '/src/page',
              service : __dirname + '/src/service',
              image   : __dirname + '/src/image',
          }
      },
  ```

### 3.通用JS工具类封装（获取服务端接口）

这节课程主要编写了src\util\mm.js。

```js
// 统一服务器地址的获取
getServeUrl: function (path) {
	return conf.serverHost + path;
},
// 获取url参数
getUrlParam: function (name) {
	var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)');
	var result = window.location.search.substr(1).match(reg);
	return result ? decodeURIComponent(result[2]) : null;
}
```

### 4.通用JS工具类封装(hogan 渲染html模板功能)

* 安装html渲染插件：`npm install hogan.js --save`

  编辑src\util\mm.js。

  ```js
  // 渲染html模板
      renderHtml : function(htmlTemplate, data){
          // 先编译后渲染
          var template = Hogan.compile(htmlTemplate),
              result = template.render(data);
          return result;
      }
  ```

### 5.通用提示功能，验证功能封装（手机号验证，邮箱格式验证，非空验证功能）

编辑src\util\mm.js。

```js
// 成功提示
    successTips : function(msg){
        alert(msg || '操作成功');
    },
    // 错误提示
    errorTips : function(msg){
        alert(msg || '哪里不对了~');
    },
    // 字段验证，支持是否为空、手机、邮箱的判断
    validata : function(value, type){
        var value = $.trim(value);
        // 非空验证
        if('require' === type){
            return !!value;
        }
        // 手机验证
        if('phone' === type){
            return /^1\d{10}$/.test(value);
        }
        // 邮箱验证
        if('email' === type){
            return /^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/.test(value);
        }
    },
    // 跳回主页
    geHome : function(){
        window.location.href = './index.html';
    }
```

### 6.通用样式的添加

编辑src\page\common\layout.css、src\view\layout\footer.html、src\view\layout\head-common.html

### 7.通用导航开发(UI 层)

编写了<https://github.com/depers/shopping-mall_front/commit/730fde3cea39960259ded4939b71e508c7d52a1a>

### 8.通用导航开发(逻辑层)

编写了<https://github.com/depers/shopping-mall_front/commit/da0cfc9bce5b628edef0263ca98a31f3d94ac68c>

### 9.通用footer开发

编写了<https://github.com/depers/shopping-mall_front/commit/fed19e41f98ed43c3fc40f048e55756037fd6346>

### 10.通用header开发

编写了<https://github.com/depers/shopping-mall_front/commit/9dce8a7946e001b845888f12f46b4fe8d7e7d2e8>

### 11.通用侧边导航开发

<https://github.com/depers/shopping-mall_front/commit/387c2308cd4e3773e77cda15df7c25e4d8e328f4>

* [jQuery.extend()](<https://www.runoob.com/jquery/misc-extend.html>) 函数用于将一个或多个对象的内容合并到目标对象。

### 12.通用操作提示页开发

<https://github.com/depers/shopping-mall_front/commit/774a7bbdd24e1192e13acff1f7cde5148f2025f2>

* 分析下列代码

  ```js
  $(function(){
      var type = _mm.getUrlParam('type') || 'defualt',
          $element = $('.' + type + '-success');
      // 显示对应的提示元素
      $element.show();
  })
  ```

  `$(function(){/*...*/});是$(document).ready(function(){/*...*/})`的简写形式，是在DOM加载完成后执行的回调函数，并且只会执行一次。

  ```js
  $( document ).ready(function() {
     console.log( "ready!" );
  });   123123
  ```

  和

  ```js
  $(function() {
     console.log( "ready!" );
  });
  123123
  ```

  起到的效果完全一样。
  
## 第五章 用户模块开发

### 1.用户模块的设计，功能拆分，交互数据接口解析

![66](E:\markdown笔记\笔记图片\12\66.png)

![67](E:\markdown笔记\笔记图片\12\67.png)

![68](E:\markdown笔记\笔记图片\12\68.png)

![69](E:\markdown笔记\笔记图片\12\69.png)

![70](E:\markdown笔记\笔记图片\12\70.png)

![71](E:\markdown笔记\笔记图片\12\71.png)

![72](E:\markdown笔记\笔记图片\12\72.png)

![73](E:\markdown笔记\笔记图片\12\73.png)

![74](E:\markdown笔记\笔记图片\12\74.png)

![75](E:\markdown笔记\笔记图片\12\75.png)

![76](E:\markdown笔记\笔记图片\12\76.png)

### 2.登录页面的开发

编写了<https://github.com/depers/shopping-mall_front/commit/fb39aad35bcc6a79fffd6f9d5395f04ffaf48e80>

* css中position: absolute下的垂直居中写法：

  ```css
  .user-con .user-box .error-icon{
      position: absolute;
      left: 14px;
      top: 50%; // 必须属性
      font-size: 14px;
      margin-top: -7px; // 必须属性，自己高度的一半
  }
  ```

* input的height与line-height不继承的父元素的，定义height和line-height必须在input的样式中重新定义一遍。

  ```css
  .user-con .user-item .user-content{
      padding: 10px 0 10px 50px;
      width: 308px;
      height: 18px;
      line-height: 18px;
      border: 1px solid #bdbdbd;
      outline: none;
  }
  ```

### 3.登录页面的开发——逻辑部分

编写了<https://github.com/depers/shopping-mall_front/commit/13f19b42c45cc31a65ce89c6ed8b07dd918d5bec>

### 4.用户注册页面的开发

编写了<https://github.com/depers/shopping-mall_front/commit/5c3ff33411793b031ac8a01835b18308b1c9fdb4>

### 5.找回密码页面的开发

编写了<https://github.com/depers/shopping-mall_front/commit/4123d0165c48e588bf77e7bdcf93bb3f4dd2d616>

### 6.个人中心的开发-1
编写了https://github.com/depers/shopping-mall_front/commit/98d857e2abf9fa4a1d8e3d690ba87515aebee165

### 7.个人中心的开发-2

编写了<https://github.com/depers/shopping-mall_front/commit/5f245ea3450ce65da392b184e39ab9ba4606a265>

### 8.修改密码功能的开发

编写了<https://github.com/depers/shopping-mall_front/commit/28cfce8347d05582fbdf0aa0d630a0aedc3bb503>

## 第六章 商品模块开发

### 1.商品模块的设计，功能拆分，交互数据接口解析

![77](E:\markdown笔记\笔记图片\12\77.png)

![78](E:\markdown笔记\笔记图片\12\78.png)

![79](E:\markdown笔记\笔记图片\12\79.png)

![80](E:\markdown笔记\笔记图片\12\80.png)

![81](E:\markdown笔记\笔记图片\12\81.png)

### 2.首页左侧关键字导航界面开发
编写了https://github.com/depers/shopping-mall_front/commit/bc3c62843b7fd0da151528c657ff07805883e7d3

### 3.首页Banner，F楼层界面开发1
编写了https://github.com/depers/shopping-mall_front/commit/0e040a6401e064f244fb59e0ef0c27eb0d11679d

* 知识点：如果顶宽布局中的内容超过了锁定的宽度(这里假设父级宽度为1080px），可在父级标签中设置如`margin-right:-20px`的操作来使得子标签能够容纳在其中(此时父级宽度为1100px）。

### 4.首页Banner,F楼层界面开发2

编写了<https://github.com/depers/shopping-mall_front/commit/7244c887d7cb4d908f6bbd7ff313b6b687b2fe67>

* [CSS3 :nth-child() 选择器](<http://www.w3school.com.cn/cssref/selector_nth-child.asp>)
* [jQuery轮播插件](<https://www.bootcss.com/p/unslider/>)

### 5.商品列表页的开发1

编写了<https://github.com/depers/shopping-mall_front/commit/08a510859fe92bdc6d9fafee601e1676c5ff8253>

### 6.商品列表页的开发2

编写了<https://github.com/depers/shopping-mall_front/commit/37f1abd4134c83678965ec1f4320d9f138ab6cfa>

### 7.商品列表页的开发3

编写了<https://github.com/depers/shopping-mall_front/commit/8cb8674c7d87815c92d54e3639fe7e02e42f1703>

* jQuery的[removeClass](<http://www.w3school.com.cn/jquery/attributes_removeclass.asp>)用法，可以移除多个类样式

### 8.商品列表页的开发4

编写了<https://github.com/depers/shopping-mall_front/commit/1f84b127778c6a0954f549e37229f4adf56e2383>

### 9.商品列表页的开发5

编写了<https://github.com/depers/shopping-mall_front/commit/9dda8c9a555dfad603bd8848699c5b170adb0418>

* 事件代理（事件委托）

  先看一段代码，这段代码是src\util\pagination\index.js中定义Pagination分页器时所写的：

  ```js
  // 定义类
  var Pagination = function(){
      var _this = this;
      this.defaultOption = {
          container    : null,
          pageNum      : 1,
          pageRange    : 3,
          onSelectPage : null
      };
      // 事件的处理，事件委托
      $(document).on('click', '.pg-item', function(){
          var $this = $(this);
          // 对于active和disabled的按钮点击不作处理
          if($this.hasClass('active') || $this.hasClass('disabled')){
              return;
          }
          typeof _this.option.onSelectPage === 'function' 
              ? _this.option.onSelectPage($this.data('value')) : null;
      });
  };
  ```

  这里有一篇博客阐述了[事件绑定和事件委托的区别](<https://www.cnblogs.com/yangkangkang/p/5630295.html>)。

  事件委托的使用场景：

  * （1）【需要绑定事件的元素过多】考虑一个ul，在li的数量非常少的时候，为每一个li添加事件当然不会存在太多性能方面的问题，但是当列表非常的长for循环太浪费内存，长到上百上千甚至上万的时候，为每个li添加事件就会对页面性能产生很大的影响。（习惯用ul了，其他元素嵌套关系自行脑补）
  * （2）【元素是动态生成的】给一个ul里面的几个li添加了事件但是如果动态又生成了li则刚生成的li不具备事件这时就需要用到委托。

### 10.商品详情页的开发1

编写了<https://github.com/depers/shopping-mall_front/commit/dc6814ccdb9a5076ec517103f63546984e7d65f4>

### 11.商品详情页的开发2

编写了<https://github.com/depers/shopping-mall_front/commit/e83ecb76cd82c6d7d80f3b38c64839d9b5e76aa1>

### 12.商品详情页的开发3

编写了<https://github.com/depers/shopping-mall_front/commit/ae765b24070c9f89ebb7c6f819cd902e86cf0b4a>