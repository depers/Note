# 8. 分布式全局ID、分布式事务和数据一致性

##  第一章 分布式全局ID

### 1-1 分布式全局id——概述和引发的问题

#### 1. 本章概述

1. 分库分表的系统中，由于id引发的问题
2. 使用UUID作为id实现主键全局唯一性保证
3. 通过统一ID序列表，实现全局id
4. 雪花算法作为全局id
5. 多种方案的比较

#### 2. 分库分表引发的id问题

在通常情况下，每个表都有唯一标识，通常使用id，id通常采用自增的方式，在分库分表的情况下，每张表的id都是从0开始自增的。不同的分片上id可能是重复的，导致id在全局不唯一，进而出现业务上的混乱。

### 1-2 分布式主键UUID

#### 1. UUID

* UUID：通用唯一识别码（Universally Unique Identifier）
* 使用UUID，保证每一条记录的id都是不同的
* 缺点：只是单纯的一个id，没有实际意义，长度32位，太长了
* Mycat不支持UUID的方式，Sharding-Jdbc支持UUID的方式

#### 2. UUID实战

##### Spring Boot

##### Spring命名空间

### 1-3 MyCat全局id （本地文件和数据库）



