# 从0开始学架构

# 开篇词（1讲）

### 开篇词

* 架构设计相关的特性
* 本课程的内容

## 基础架构（13讲）

### 1.架构到底是指什么？

* 系统与子系统

* 模块与组件

* 框架和架构

  ---

* 关于以上三个概念的总结：

  * 架构是顶层设计；框架是面向编程或配置的半成品；组件是从技术维度上的复用；模块是从业务维度上职责的划分；系统是相互协同可运行的实体。

  * 系统与子系统：系统是由一系列有关联，按特定规则组成的个体，并且产生新的能力，而系统与子系统则是观察的交角度不同

    模块与组件：模块是从逻辑角度去看待，而组件是从物理角度去看待

    框架与架构：框架是规范也是约束，可以理解为封闭性的话题，定义好，让别人如何去使用，而架构是一种结构，是一种开放性的话题，如何去设计组织架构，如何让架构更具有拓展性，减少沟通错误成本

  * 关于系统：
    系统和子系统其实都是系统，只不过在本业务里边的分层不同，只有顶层为系统，其他都为子系统，就像目录树一样，看你目录最深有多少层。

    模块向虚(逻辑)，组件向实(代码)。

    框架向虚(规范)，架构向实(结构)。

  * 做**架构**就是对于解决一个或者一类**问题**，构建一个**系统**，你需要为这个**系统**根据业务划分**模块**，需要加入能组合起来的**组件**和**框架**，然后你需要构建一系列**规则**，让这些**组件**和**框架跑**起来，各自发挥各自的能力，来实现一个个**模块**，然后这些**模块**又组合起来成了整个**系**统，所以做架构需要很熟悉业务，会业务逻辑划分，要熟悉很多**框架**，**组件**，知道他们的能力，熟悉怎么组合他们完美的运作起来！

    问题，模块，规则，系统，是架构四要素

### 2.架构设计的历史背景

这篇文章表面上看实在回顾历史，实则是启发大家为什么要有架构设计？什么是架构设计？有没有最好的架构设计？好的架构设计应当具备什么？

评论：

*   在古代的狼人传说中，只有用银质子弹（银弹）才能制服这些异常凶残的怪兽。在软件开发活动中，“银弹”特指人们渴望找到用于制服软件项目这头难缠的“怪兽”的“万能钥匙”。

  软件开发过程包括了分析、设计、实现、测试、验证、部署、运维等多个环节。从IT技术的发展历程来看，先辈们在上述不同的环节中提出过很多在当时看来很先进的方法与理念。但是，这些方法、理念在摩尔定律、业务创新、技术发展面前都被一一验证了以下观点：我们可以通过诸多方式去接近“银弹”，但很遗憾，软件活动中没有“银弹”。

  布鲁克斯发表《人月神话》三十年后，又写了《设计原本》。他认为一个成功的软件项目的最重要因素就是设计，架构师、设计师需要在业务需求和IT技术中寻找到一个平衡点。个人觉得，对这个平衡点的把握，就是架构设计中的取舍问题。而这种决策大部分是靠技术，但是一定程度上也依赖于架构师的“艺术”，技术可以依靠新工具、方法论、管理模式去提升，但是“艺术”无法量化 ，是一种权衡。

  软件设计过程中，模块、对象、组件本质上是对一定规模软件在不同粒度和层次上的“拆分”方法论，软件架构是一种对软件的“组织”方法论。一分一合，其目的是为了软件研发过程中的成本、进度、质量得到有效控制。但是，一个成功的软件设计是要适应并满足业务需求，同时不断“演化”的。设计需要根据业务的变化、技术的发展不断进行“演进”，  这就决定了这是一个动态活动，出现新问题，解决新问题，没有所谓的“一招鲜”。

  以上只是针对设计领域的银弹讨论，放眼到软件全生命周期，银弹问题会更加突出。

  小到一个软件开发团队，大到一个行业，没有银弹，但是“行业最佳实践”可以作为指路明灯，这个可以有。   

* 我认为文章的软件发展历史正是答案，软件工程归根结底是为各行各业的需求服务的，而随着需求的复杂度越来越高，用户的要求越来越高，软件也越复杂，形态也在不断变化，所以没有一种方法论能称得上是银弹，只能说某一种方法论适合某一种需求。这也正是架构师存在的意义，去选择合适的技术，如果有银弹，还要架构师干嘛！以上只是个人见解！

* 软件本身的复杂度难以度量，随时间和规模发展，原有的解决方案很快难适应，人们就不断总结经验模式和设计解决新困难的办法，但是不管什么样的架构设计都是在尽量满足适应我们可能遇到的问题的解决方案，不是解决问题方案。生活中我们的应用从单体到主备再到集群、分布式、微服务最后到最新的Service Mesh，这些其实都是解决和改善、完善、优化我们在软件开发遇到的问题。There is no silver bullet.

### 3.架构设计的目的

* 架构设计的真正目的

  架构设计的主要目的的是为了**解决软件系统复杂度带来的问题**。

* 架构设计应该注意的点：

  * 1）从实际项目需求着手，分析系统复杂性并针对复杂点进行设计。
  * 2）架构设计应有针对性，避免盲目求大求全。

* 简单系统的架构设计应从那些方面分析：

  * 1）性能：web服务器，数据库，缓存。
  * 2）可扩展性：应根据系统的实际需求进行考虑。
  * 3）高可用：负载均衡（异地多活），存储高可用（机器故障-设计MySQL同机房主备方案、机房故障-设计MySQL跨机房同步方案）。
  * 4）安全性：信息隐私、金融相关。
  * 5）成本：服务器成本、人力成本、维护成本。

* 案例：大学的学生管理系统

  * 性能：采用Nginx，MySQL数据库，无需缓存。
  * 可扩展性：系统功能稳定，可扩展空间小。
  * 高可用：无需负载均衡，需考虑数据库存储高可用。
  * 安全性：学生信息有一定隐私性，只需做三点：Nginx 提供 ACL 控制、用户账号密码管理、数据库访问权限控制。
  * 成本：系统业务简单，成本较低。

