# jasper博客文件存储的解决方案

> 时间：2023年5月23日

## 思路

在解析从Github上面拉取的md博客文章之后，将文本内容中涉及图片标签的内容提取出来，接着从github上面下载文件到服务器的图片目录。服务器的图片目录采用nginx进行代理，然后通过将图片的访问地址替换为带有域名的图片，这样就基本完成这个功能了。

## 拆分

1. 需要研究下commommark-java的代码从里面把图片的内容提取出来。
2. 从github上面下载二进制图片文件，看下能不能直接调接口就能下载下来。
3. 按我理解应该是可以之间将文件下载到本地服务器的指定目录，但是在linux里面应该是有文件夹的写权限控制吧。
4. 修改nginx的静态文件代理配置
5. 最后将保存到数据库中的url地址替换为静态文件代理的图片地址。